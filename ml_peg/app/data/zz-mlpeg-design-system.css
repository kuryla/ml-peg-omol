/* ===================================================================
   ML-PEG Design System - Professional Styling for MLIP Benchmarking
   Based on Matbench Discovery design patterns
   =================================================================== */

/* ===================================================================
   1. DESIGN TOKENS - CSS Custom Properties
   =================================================================== */

:root {
    /* Color Palette - Modern Scientific */
    --color-primary: #60a5fa;          /* lighter blue for dark */
    --color-primary-dark: #3b82f6;
    --color-primary-light: #93c5fd;
    --color-secondary: #22d3ee;
    --color-accent: #a78bfa;
    
    /* Neutral Scale */
    --color-background: #0b0b0e;       /* near-black */
    --color-surface: #000000;          /* pure black sections */
    --color-surface-elevated: #000000; /* pure black cards */
    --color-border: #ffffff;           /* white borders */
    --color-border-light: #ffffff;     /* white borders */
    
    /* Text Colors */
    --color-text-primary: #f8fafc;
    --color-text-secondary: #ffffff;
    --color-text-tertiary: #9ca3af;
    --color-text-inverse: #111827;
    
    /* Status Colors */
    --color-success: #10b981;
    --color-warning: #f59e0b;
    --color-error: #ef4444;
    --color-info: #3b82f6;
    
    /* Shadows */
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    
    /* Typography */
    --font-sans: -apple-system, BlinkMacSystemFont, 'Inter', 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    --font-mono: 'JetBrains Mono', 'Fira Code', 'SF Mono', Consolas, 'Liberation Mono', Menlo, monospace;
    
    /* Spacing Scale (8px base grid) */
    --space-xs: 0.25rem;    /* 4px */
    --space-sm: 0.5rem;     /* 8px */
    --space-md: 1rem;       /* 16px */
    --space-lg: 1.5rem;     /* 24px */
    --space-xl: 2rem;       /* 32px */
    --space-2xl: 3rem;      /* 48px */
    --space-3xl: 4rem;      /* 64px */
    
    /* Border Radius */
    --radius-sm: 0.25rem;
    --radius-md: 0.5rem;
    --radius-lg: 0.75rem;
    --radius-xl: 1rem;
    --radius-full: 9999px;
    
    /* Transitions */
    --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-base: 200ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-slow: 300ms cubic-bezier(0.4, 0, 0.2, 1);
    
    /* Z-index Scale */
    --z-dropdown: 1000;
    --z-sticky: 1020;
    --z-fixed: 1030;
    --z-modal-backdrop: 1040;
    --z-modal: 1050;
    --z-popover: 1060;
    --z-tooltip: 1070;
}

/* ===================================================================
   2. RESET & BASE STYLES
   =================================================================== */

*,
*::before,
*::after {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html { font-size: 16px; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }

body { font-family: var(--font-sans); color: var(--color-text-primary); background-color: var(--color-background); line-height: 1.6; min-height: 100vh; }

.container { max-width: 1280px; margin: 0 auto; padding: 0 var(--space-lg); }
.container-fluid { width: 100%; padding: 0 var(--space-lg); }
.section { padding: var(--space-2xl) 0; }

/* ===================================================================
   3. TYPOGRAPHY
   =================================================================== */

h1, h2, h3, h4, h5, h6 { font-weight: 600; line-height: 1.3; color: var(--color-text-primary); }
h1 { font-size: 2.5rem; font-weight: 700; letter-spacing: -0.02em; margin-bottom: var(--space-lg); }
h2 { font-size: 2rem; letter-spacing: -0.01em; margin-top: var(--space-2xl); margin-bottom: var(--space-lg); }
h3 { font-size: 1.5rem; margin-top: var(--space-xl); margin-bottom: var(--space-md); }
h4 { font-size: 1.25rem; color: var(--color-text-secondary); margin-top: var(--space-lg); margin-bottom: var(--space-sm); }
p { font-size: 1rem; line-height: 1.7; color: var(--color-text-secondary); margin-bottom: var(--space-md); }
a { color: var(--color-primary); text-decoration: none; transition: color var(--transition-fast); }
a:hover { color: var(--color-primary-dark); }
code { font-family: var(--font-mono); font-size: 0.875rem; background-color: var(--color-surface); padding: 0.125rem 0.375rem; border-radius: var(--radius-sm); border: 1px solid var(--color-border-light); }
pre { font-family: var(--font-mono); font-size: 0.875rem; background-color: var(--color-surface); padding: var(--space-md); border-radius: var(--radius-md); overflow-x: auto; margin-bottom: var(--space-md); }

/* ===================================================================
   4. HEADER & NAVIGATION
   =================================================================== */

.header { background-color: rgba(0, 0, 0, 0.9); border-bottom: 1px solid var(--color-border); padding: var(--space-lg) 0; position: sticky; top: 0; z-index: var(--z-sticky); backdrop-filter: blur(6px); }
.header-content { display: flex; justify-content: space-between; align-items: center; max-width: 1280px; margin: 0 auto; padding: 0 var(--space-lg); }
.logo { display: flex; align-items: center; gap: var(--space-md); text-decoration: none; color: var(--color-text-primary); }
.logo-icon { width: 40px; height: 40px; background: linear-gradient(135deg, var(--color-primary), var(--color-secondary)); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 1.25rem; }
.logo-text { font-size: 1.5rem; font-weight: 700; letter-spacing: -0.02em; color: var(--color-primary); }
.nav { display: flex; gap: var(--space-xl); align-items: center; }
.nav-link { text-decoration: none; color: var(--color-primary); font-weight: 600; transition: color var(--transition-fast); font-size: 0.9375rem; }
.nav-link:hover { color: var(--color-primary-light); }
.nav-link.active { color: var(--color-primary-light); }

/* Mobile nav toggle */
.nav-toggle { display: none; }

/* Tabs (Dash) */
.dash-tabs { background: transparent; }
.dash-tabs .tab {
  border: 1px solid #ffffff !important;
  background-color: #0b1220 !important; /* slightly lighter than black */
  border-radius: 10px 10px 0 0;
  margin-right: 6px;
  color: #ffffff !important;
}
.dash-tabs .tab:hover { background-color: #10192b !important; }
.dash-tabs .tab--selected {
  background-color: #111827 !important; /* distinct when active */
  color: #ffffff !important;
  border-color: #ffffff !important;
  border-bottom-color: #111827 !important;
}
.dash-tabs .tab, .dash-tabs .tab * { color: #ffffff !important; }

/* ===================================================================
   5. HERO SECTION
   =================================================================== */

.hero { background: none; color: var(--color-text-primary); padding: 0; margin: 0; }
.hero h1, .hero p { display: none; }
.hero-stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: var(--space-xl); margin-top: var(--space-2xl); }
.stat { text-align: center; }
.stat-value { font-size: 2.5rem; font-weight: 700; display: block; margin-bottom: var(--space-xs); }
.stat-label { font-size: 0.875rem; opacity: 0.9; text-transform: uppercase; letter-spacing: 0.05em; }

/* ===================================================================
   6. CARD COMPONENT
   =================================================================== */

.card { background-color: var(--color-surface-elevated); border: 1px solid var(--color-border); border-radius: var(--radius-lg); padding: var(--space-xl); margin-bottom: var(--space-lg); box-shadow: none; transition: all var(--transition-base); }
.card--borderless { border: none !important; box-shadow: none !important; background-color: transparent !important; }
.card:hover { box-shadow: var(--shadow-md); border-color: var(--color-primary-light); transform: translateY(-2px); }
.card-header { margin-bottom: var(--space-lg); padding-bottom: var(--space-md); border-bottom: 1px solid var(--color-border-light); }
.card-title { font-size: 1.25rem; font-weight: 600; color: var(--color-text-primary); margin: 0; }
.card-body { color: var(--color-text-secondary); }
.card-footer { margin-top: var(--space-lg); padding-top: var(--space-md); border-top: 1px solid var(--color-border-light); }

/* ===================================================================
   7. BADGE & BUTTONS
   =================================================================== */

.badge { display: inline-flex; align-items: center; padding: 0.25rem 0.625rem; border-radius: var(--radius-full); font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.025em; }
.badge-primary { background-color: #dbeafe; color: #1e40af; }
.badge-success { background-color: #d1fae5; color: #065f46; }
.badge-warning { background-color: #fef3c7; color: #92400e; }
.badge-error { background-color: #fee2e2; color: #991b1b; }
.badge-info { background-color: #e0e7ff; color: #3730a3; }

.button { display: inline-flex; align-items: center; justify-content: center; gap: var(--space-sm); padding: 0.625rem 1.25rem; border-radius: var(--radius-md); font-weight: 600; font-size: 0.9375rem; text-decoration: none; border: none; cursor: pointer; transition: all var(--transition-base); white-space: nowrap; }
.button-primary { background-color: var(--color-primary); color: white; }
.button-primary:hover { background-color: var(--color-primary-dark); box-shadow: var(--shadow-md); transform: translateY(-1px); }
.button-secondary { background-color: transparent; color: var(--color-primary); border: 2px solid var(--color-primary); }
.button-secondary:hover { background-color: var(--color-primary); color: white; }
.button-outline { background-color: transparent; color: var(--color-text-secondary); border: 1px solid var(--color-border); }
.button-outline:hover { border-color: var(--color-primary); color: var(--color-primary); }

/* ===================================================================
   8. CONTROLS & FORMS
   =================================================================== */

.controls { display: flex; gap: var(--space-md); margin-bottom: var(--space-xl); flex-wrap: wrap; align-items: center; }
.search-input, .text-input { flex: 1; min-width: 250px; padding: 0.625rem var(--space-md); border: 1px solid var(--color-border); border-radius: var(--radius-md); font-size: 0.9375rem; font-family: var(--font-sans); transition: all var(--transition-base); }
.search-input:focus, .text-input:focus { outline: none; border-color: var(--color-primary); box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1); }
.select { padding: 0.625rem var(--space-md); border: 1px solid var(--color-border); border-radius: var(--radius-md); font-size: 0.9375rem; font-family: var(--font-sans); background-color: white; cursor: pointer; transition: all var(--transition-base); }
.select:focus { outline: none; border-color: var(--color-primary); box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1); }

/* ===================================================================
   9. PLOT/GRAPH WRAPPER
   =================================================================== */

.viz-container { background-color: var(--color-surface-elevated); border: 1px solid var(--color-border); border-radius: var(--radius-lg); padding: var(--space-xl); margin-bottom: var(--space-lg); box-shadow: var(--shadow-sm); }
.viz-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-lg); }
.viz-title { font-size: 1.125rem; font-weight: 600; color: var(--color-text-primary); }
.viz-body { min-height: 300px; }
.dash-graph text, .dash-graph .legend text { fill: var(--color-text-primary) !important; }

/* Dash DataTable baseline alignment with design system */
.dash-table-container .dash-spreadsheet-container { background-color: var(--color-surface-elevated); border: 1px solid var(--color-border); border-radius: 10px; }
.dash-table-container .dash-spreadsheet-container .cell { color: #ffffff !important; font-family: var(--font-sans); font-size: 0.875rem; }
.dash-table-container .dash-spreadsheet-container .column-header-name { color: #ffffff !important; font-weight: 600; font-family: var(--font-sans); }

/* Side menu for category pages */
.side-menu { display: flex; flex-direction: column; gap: 8px; min-width: 240px; }
.side-menu-item { display: flex; align-items: center; justify-content: space-between; padding: 8px 12px; border: 1px solid #ffffff; border-radius: 8px; background: #0b1220; color: #ffffff; position: relative; }
.side-menu-item:hover { background: #10192b; }
.side-menu-button { appearance: none; background: transparent; border: none; color: #ffffff; font: inherit; text-align: left; cursor: pointer; flex: 1; }
.side-menu-info { display: inline-flex; align-items: center; justify-content: center; width: 20px; height: 20px; border-radius: 50%; border: 1px solid #ffffff; font-size: 12px; color: #ffffff; margin-left: 8px; position: relative; }
.side-menu-info::after {
  content: attr(data-tip);
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  bottom: 135%;
  background: #111827;
  color: #ffffff;
  border: 1px solid #ffffff;
  padding: 6px 8px;
  border-radius: 6px;
  white-space: nowrap;
  opacity: 0;
  pointer-events: none;
  transition: opacity 120ms ease-in-out;
  z-index: 1000;
}
.side-menu-info:hover::after { opacity: 1; }

/* ===================================================================
   10. FOOTER
   =================================================================== */

.footer { background-color: var(--color-surface); border-top: 1px solid var(--color-border); padding: var(--space-2xl) 0; margin-top: var(--space-3xl); }
.footer-content { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: var(--space-2xl); }
.footer-section h4 { margin-top: 0; margin-bottom: var(--space-md); color: var(--color-text-primary); }
.footer-links { list-style: none; padding: 0; }
.footer-links li { margin-bottom: var(--space-sm); }
.footer-links a { color: var(--color-text-secondary); text-decoration: none; transition: color var(--transition-fast); }
.footer-links a:hover { color: var(--color-primary); }
.footer-bottom { margin-top: var(--space-2xl); padding-top: var(--space-xl); border-top: 1px solid var(--color-border); text-align: center; color: var(--color-text-tertiary); font-size: 0.875rem; }

/* ===================================================================
   11. UTILITIES
   =================================================================== */

.mt-0 { margin-top: 0; } .mt-sm { margin-top: var(--space-sm); } .mt-md { margin-top: var(--space-md); } .mt-lg { margin-top: var(--space-lg); } .mt-xl { margin-top: var(--space-xl); } .mt-2xl { margin-top: var(--space-2xl); }
.mb-0 { margin-bottom: 0; } .mb-sm { margin-bottom: var(--space-sm); } .mb-md { margin-bottom: var(--space-md); } .mb-lg { margin-bottom: var(--space-lg); } .mb-xl { margin-bottom: var(--space-xl); } .mb-2xl { margin-bottom: var(--space-2xl); }
.p-0 { padding: 0; } .p-sm { padding: var(--space-sm); } .p-md { padding: var(--space-md); } .p-lg { padding: var(--space-lg); } .p-xl { padding: var(--space-xl); }
.text-center { text-align: center; } .text-left { text-align: left; } .text-right { text-align: right; }
.text-primary { color: var(--color-primary); } .text-secondary { color: var(--color-text-secondary); } .text-tertiary { color: var(--color-text-tertiary); } .text-success { color: var(--color-success); } .text-warning { color: var(--color-warning); } .text-error { color: var(--color-error); }
.font-bold { font-weight: 700; } .font-semibold { font-weight: 600; } .font-medium { font-weight: 500; } .font-normal { font-weight: 400; }
.flex { display: flex; } .grid { display: grid; } .hidden { display: none; }
.flex-col { flex-direction: column; } .flex-row { flex-direction: row; } .items-center { align-items: center; } .justify-center { justify-content: center; } .justify-between { justify-content: space-between; } .gap-sm { gap: var(--space-sm); } .gap-md { gap: var(--space-md); } .gap-lg { gap: var(--space-lg); }

/* ===================================================================
   12. RESPONSIVE
   =================================================================== */

@media (max-width: 1024px) { .container { padding: 0 var(--space-md); } }
@media (max-width: 768px) {
    h1 { font-size: 2rem; }
    h2 { font-size: 1.5rem; }
    h3 { font-size: 1.25rem; }
    .hero h1 { font-size: 2rem; }
    .hero p { font-size: 1rem; }
    .header-content { flex-direction: column; gap: var(--space-md); }
    .nav-toggle { display: inline-flex; }
    .nav { flex-direction: column; gap: var(--space-sm); width: 100%; display: none; }
    .nav.open { display: flex; }
    .nav-link { width: 100%; text-align: center; }
}

/* ===================================================================
   13. ACCESSIBILITY & PRINT
   =================================================================== */

*:focus-visible { outline: 2px solid var(--color-primary); outline-offset: 2px; }
@media (prefers-reduced-motion: reduce) { *, *::before, *::after { animation-duration: 0.01ms !important; animation-iteration-count: 1 !important; transition-duration: 0.01ms !important; } }
@media print { .header, .nav, .footer, .button, .controls { display: none; } .hero { background: none; color: var(--color-text-primary); border-bottom: 2px solid var(--color-border); } .hero h1, .hero p { color: var(--color-text-primary); } }

/* Minimal disclosure styling for weight controls */
details.weights-toggle { margin-top: var(--space-sm); }
details.weights-toggle > summary { list-style: none; }
details.weights-toggle > summary::-webkit-details-marker { display: none; }
details.weights-toggle[open] { padding-top: var(--space-xs); }
